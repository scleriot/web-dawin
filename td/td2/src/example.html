<!DOCTYPE html>
<html>
<head>
    <title>TD2</title>

    <script src="../../3rd/vue.js"></script>
</head>
<body>
    <div id="app">
        <span v-bind:title="message" v-if="display">{{ message_upper }}</span>

        <ul>
            <movie-item v-for="m in movies" v-bind:movie="m" v-bind:key="m"></movie-item>
        </ul>

        <input type="text" v-model="message" />

        <button v-on:click="onclick">Push me</button>
    </div>

    <script type="text/javascript">
        Vue.component('movie-item', {
            props: ["movie"],
            template: '<li>{{ movie }}</li>',
            mounted: function() {
                console.log("Mounted component ", this.movie)
            }
        })

        var vm = new Vue({
            el: "#app",
            data: {
                message: "Hello DAWIN",
                display: true,
                movies: ["Retour vers le futur", "Star wars", "Seigneur des anneaux"]
            },
            methods: {
                onclick: function() {
                    // this.display = !this.display
                    this.movies.push(this.message)
                }
            },
            computed: {
                message_upper: function() {
                    return this.message.toUpperCase()
                }
            },
            mounted: function() {
                console.log("Mounted principal")
            }
        })
    </script>
</body>